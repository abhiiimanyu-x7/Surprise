<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank You Ma'am</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        /* --- CORE STYLES --- */
        :root {
            --bg-1: #ffdde1;
            --bg-2: #ee9ca7;
            --card: #ffffff;
            --pink-accent: #ff6b81;
            --text-color: #5d4037; /* Dark brown for readability */
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, var(--bg-1), var(--bg-2));
            font-family: 'Quicksand', sans-serif;
            height: 100vh;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* The Background Particles Layer - Click-through enabled */
        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none; /* Crucial Fix: Allows clicks to pass through */
        }

        /* --- MAIN CARD --- */
        .card {
            position: relative;
            z-index: 50; /* High z-index to sit above canvas */
            background: rgba(255, 255, 255, 0.95);
            width: 85%;
            max-width: 480px;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(255, 107, 129, 0.3);
            text-align: center;
            border: 4px solid #fff0f5;
            transition: transform 0.3s ease;
        }

        /* --- CSS ART STAGE (Where we draw the shapes) --- */
        .art-stage {
            height: 120px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
        }

        /* 1. CSS ART: ENVELOPE */
        .art-envelope {
            width: 80px;
            height: 60px;
            background: #ff6b81;
            position: relative;
            border-radius: 5px;
            animation: float 2s infinite ease-in-out;
        }
        .art-envelope::before { /* Flap */
            content: '';
            position: absolute;
            top: 0; left: 0;
            border-left: 40px solid transparent;
            border-right: 40px solid transparent;
            border-top: 30px solid #ff8fa3;
        }
        .art-envelope::after { /* Fold */
            content: '';
            position: absolute;
            bottom: 0; left: 0;
            border-left: 40px solid #ff4757;
            border-top: 30px solid transparent;
            border-bottom: 30px solid transparent;
        }

        /* 2. CSS ART: PENCIL (For Hard Work) */
        .art-pencil {
            width: 100px;
            height: 20px;
            background: #feca57;
            position: relative;
            border-radius: 0 5px 5px 0;
            animation: write 1s infinite alternate;
        }
        .art-pencil::before { /* Eraser */
            content: '';
            position: absolute;
            left: -15px; top: 0;
            width: 15px; height: 20px;
            background: #ff6b81;
            border-radius: 3px 0 0 3px;
        }
        .art-pencil::after { /* Tip */
            content: '';
            position: absolute;
            right: -20px; top: 0;
            border-left: 20px solid #feca57;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
        }

        /* 3. CSS ART: HEART (For Love/Impact) */
        .art-heart {
            background-color: #ff4757;
            display: inline-block;
            width: 50px;
            height: 50px;
            position: relative;
            transform: rotate(-45deg);
            animation: beat 0.8s infinite;
        }
        .art-heart::before,
        .art-heart::after {
            content: "";
            width: 50px;
            height: 50px;
            background-color: #ff4757;
            border-radius: 50%;
            position: absolute;
        }
        .art-heart::before { top: -25px; left: 0; }
        .art-heart::after { top: 0; left: 25px; }

        /* 4. CSS ART: STAR (For Celebration) */
        .art-star {
            width: 0; height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-bottom: 50px solid #feca57;
            position: relative;
            animation: spin 3s infinite linear;
        }
        .art-star::after {
            content: "";
            width: 0; height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-top: 50px solid #feca57;
            position: absolute;
            top: 18px; left: -25px;
        }

        /* --- TYPOGRAPHY & BUTTONS --- */
        h1 {
            color: var(--pink-accent);
            font-size: 2rem;
            margin-bottom: 10px;
            font-weight: 800; /* Extra Bold */
        }

        .text-box {
            font-size: 1.2rem;
            color: var(--text-color);
            line-height: 1.6;
            min-height: 150px;
            text-align: left;
            margin-bottom: 25px;
            font-weight: 700; /* BOLD TEXT */
        }

        .btn {
            background: var(--pink-accent);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 107, 129, 0.4);
            transition: transform 0.2s;
            display: inline-block; /* Ensures it behaves correctly */
        }

        .btn:hover {
            transform: scale(1.05);
            background: #ff4757;
        }

        .hidden { display: none !important; }

        /* --- ANIMATIONS --- */
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        @keyframes beat { 0% { transform: scale(1) rotate(-45deg); } 50% { transform: scale(1.1) rotate(-45deg); } }
        @keyframes write { 0% { transform: translateX(-10px) rotate(-5deg); } 100% { transform: translateX(10px) rotate(5deg); } }
        @keyframes spin { 100% { transform: rotate(360deg); } }

    </style>
</head>
<body>

    <canvas id="canvas"></canvas>

    <div id="intro-screen" class="card">
        <div class="art-stage">
            <div class="art-envelope"></div>
        </div>
        <h1>For Shan e Fatima Ma'am</h1>
        <p style="font-weight: bold; color: #888;">Tap below to open your letter</p>
        <button class="btn" onclick="startJourney()">Open üíå</button>
    </div>

    <div id="main-card" class="card hidden">
        <h1 id="header">Dear Ma'am...</h1>
        
        <div class="art-stage" id="art-container"></div>

        <div class="text-box" id="text-area"></div>

        <button class="btn" id="next-btn" onclick="nextSlide()">Continue...</button>
    </div>

    <script>
        /* --- LOGIC --- */

        // 1. Content Data
        const slides = [
            {
                header: "Dear Shan e Fatima Ma'am,",
                artClass: "art-envelope",
                text: "We wanted to pause for a moment to say: Thank You. In the rush of assignments and deadlines, we sometimes forget to appreciate the person guiding us through it all. We see your effort, and we value it.",
                btn: "Read More"
            },
            {
                header: "Hard Work & Dedication",
                artClass: "art-pencil",
                text: "Thank you for not just teaching from the book, but teaching with your heart. Your patience in explaining things and your dedication to our growth does not go unnoticed. You inspire us to work harder.",
                btn: "The Impact"
            },
            {
                header: "The Impact",
                artClass: "art-heart",
                text: "Teachers plant seeds that grow forever. The encouragement you give us today is the foundation of our success tomorrow. Thank you for creating a space where we feel supported.",
                btn: "Final Wish"
            },
            {
                header: "We Appreciate You!",
                artClass: "art-star",
                text: "For the extra hours, the kindness, and the guidance: Thank you, Ma'am! We are truly lucky to have you.",
                btn: "Celebrate! üéâ"
            }
        ];

        let currentIndex = 0;
        const introScreen = document.getElementById('intro-screen');
        const mainCard = document.getElementById('main-card');
        const header = document.getElementById('header');
        const artContainer = document.getElementById('art-container');
        const textArea = document.getElementById('text-area');
        const nextBtn = document.getElementById('next-btn');

        // 2. Navigation Functions
        function startJourney() {
            introScreen.classList.add('hidden');
            mainCard.classList.remove('hidden');
            renderSlide(0);
        }

        function nextSlide() {
            currentIndex++;
            if (currentIndex >= slides.length) {
                celebrate();
            } else {
                renderSlide(currentIndex);
            }
        }

        function renderSlide(index) {
            const slide = slides[index];
            
            // Reset for animation
            textArea.innerHTML = "";
            header.innerText = slide.header;
            nextBtn.innerText = slide.btn;

            // Render CSS Art
            artContainer.innerHTML = `<div class="${slide.artClass}"></div>`;

            // Start Typing
            typeWriter(slide.text, 0);
        }

        // 3. Typing Effect
        function typeWriter(text, i) {
            if (i < text.length) {
                textArea.innerHTML += text.charAt(i);
                i++;
                setTimeout(() => typeWriter(text, i), 25);
            }
        }

        // 4. Celebration Logic
        function celebrate() {
            header.innerText = "We ‚ù§Ô∏è You Ma'am!";
            artContainer.innerHTML = `<div class="art-heart"></div>`;
            textArea.innerHTML = "Thank you for everything!";
            textArea.style.textAlign = "center";
            nextBtn.style.display = "none";
            
            // Trigger Confetti
            startConfetti();
        }

        // 5. Background Animation (Hearts)
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let particles = [];

        function createParticles() {
            for(let i=0; i<40; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 20 + 10,
                    speedY: Math.random() * 1 + 0.5,
                    color: `rgba(255, 105, 180, ${Math.random() * 0.5})`
                });
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, index) => {
                p.y -= p.speedY;
                if(p.y < -20) p.y = canvas.height + 20;

                ctx.fillStyle = p.color;
                ctx.font = p.size + "px Arial";
                ctx.fillText("‚ù§Ô∏è", p.x, p.y);
            });
            requestAnimationFrame(animateParticles);
        }

        function startConfetti() {
            // Add colorful particles for celebration
            for(let i=0; i<100; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: canvas.height + Math.random() * 200, // Start from bottom
                    size: Math.random() * 10 + 5,
                    speedY: Math.random() * 5 + 2, // Fast upward
                    color: `hsl(${Math.random()*360}, 100%, 50%)`
                });
            }
        }

        createParticles();
        animateParticles();

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

    </script>
</body>
</html>
